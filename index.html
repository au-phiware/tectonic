<!DOCTYPE html>
<html>
<head>
  <title>tectonic.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="stylesheet" media="all" href="docs/docco.css" />
  <link rel="stylesheet"
        href="styles/solarized-dark.css" />
  <style>
    .badge {
      vertical-align: text-bottom;
      float: right;
      margin-left: 4px;
    }
    .highlight {
      padding-top: 1.5em;
    }
    .highlight:first-child {
      padding-top: 0;
    }
    .gh-ribbon {
      position: absolute;
      top: 0;
      right: 0;
      width: 149px;
      height: 149px;
      z-index:2;
    }
    .content {
      clear: both;
    }
    .example {
      border-top: 1.5px solid rgba(131, 148, 150, 0.6);
      margin-top: 2em;
    }
    .example > :first-child {
      display: block;
      margin-top: -14px;
      margin-bottom: -0.5em;
    }
    .example > :first-child span {
      color: #839496;
      background: #ffffff;
      padding: 0 3px;
      margin-left: -3px;
    }
    [id^=example-] {
      padding-top: 1em;
      margin-left: 10px;
    }
    .devtools * {
      display: none;
    }
    @media only screen and (min-width: 481px) {
      [id^=example-] {
        margin-left: 13px;
      }
      .example {
        margin-top: 0;
      }
      .example > :first-child {
        display: block;
        margin-top: -17px;
        margin-bottom: 0;
      }
      .example > :first-child span {
        color: #839496;
        background: #002b36;
        padding: 0 3px;
        margin-left: 362px;
      }
    }
    @media only screen and (min-width: 1025px) {
      .gh-ribbon {
        position: fixed;
      }
      [id^=example-] {
        margin-left: 50px;
      }
      .example > :first-child {
        margin-top: -18px;
      }
      .example > :first-child span {
        margin-left: 550px;
      }
    }
  </style>
</head>
<body class="solarized-dark">
  <a href="https://github.com/tecknack/tectonic">
    <img class="gh-ribbon"
     src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png">
  </a>
  <div id="container">
    <div id="background"></div>

    <ul class="sections">
      <li id="title">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#title">&#182;</a>
          </div>
          <h1>tectonic.js</h1>
        </div>
      </li>

      <li id="badges">
        <div class="annotation">
          <a href="https://opensource.org/licenses/MIT">
            <img class="badge"
              src="https://img.shields.io/npm/l/tectonic.js.svg">
          </a>
          <a href="https://www.npmjs.com/package/tectonic.js">
            <img class="badge"
              src="https://img.shields.io/npm/v/tectonic.js.svg">
          </a>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="sh">npm install tectonic.js</code></pre>
        </div></div>
      </li>

      <li id="introduction">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#introduction">&#182;</a>
          </div>
          <h1>Introduction</h1>
        </div>
      </li>

      <li id="intro-10">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#intro-10">&#182;</a>
          </div>
          <p>Tectonic is a functional rendering engine for DOM nodes, heavily
          inspired by <a href="https://github.com/pure/pure">Beebole’s PURE</a>
          rendering engine.  It ascribes to PURE’s unobtusive philosophy,
          whereby HTML code is completely free of any application logic or new
          syntax and JavaScript code is uninhibited by presentational concerns.
          This is achieved by both PURE and Tectonic by the use of a directive
          object that marries the DOM referenced by CSS selectors to properties
          in your application’s data.  Where Tectonic departs from PURE is in
          the use of functions, known as renderers, to directly manipulate DOM
          nodes. This permits Tectonic to provide two-way data flow via a
          <code>parse</code> method, which makes use of an inverse function that
          is attached to a renderer.</p>
        </div>
      </li>

      <li id="intro-20">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#intro-20">&#182;</a>
          </div>
          <a href="https://github.com/tecknack/tectonic">Fork me</a>
          on GitHub.
          <a href="https://github.com/tecknack/tectonic">
            <img alt="GitHub Forks" class="badge"
                 src="https://img.shields.io/github/forks/tecknack/tectonic.svg?style=social&label=Forks">
          </a>
          </p>
        </div>
        
        <div class="content"><div class='highlight'>
          <pre><code class="sh"
            >git clone https://github.com/tecknack/tectonic.git</code></pre>
        </div></div>
      </li>

      <li id="intro-30">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#intro-30">&#182;</a>
          </div>
          <p>Run the <a href="spec/index.html">test suite</a> and gauge its
          <a href="coverage/Chrome%2043.0.2357%20(Linux%200.0.0)/tectonic/index.html"
            >coverage</a>.
          <a href="https://travis-ci.org/tecknack/tectonic">
            <img alt="Build status" class="badge"
                 src="https://api.travis-ci.org/tecknack/tectonic.svg?branch=master">
          </a>
          </p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="sh"
            >npm test</code></pre>
        </div></div>
      </li>

      <li id="intro-40">
        <div class="annotation">
          <div class="pilwrap ">
            <a class="pilcrow" href="#intro-40">&#182;</a>
          </div>
          <p>To truly understand Tectonic read the
          <a href="docs/tectonic.html">annotated source code</a>.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="sh"
            >more tectonic.js</code></pre>
        </div></div>
      </li>

      <li id="intro-99">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#intro-99">&#182;</a>
          </div>
          <p>Perhaps the best way to explain Tectonic is by example.</p>
        </div>
      </li>

      <li id="examples">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#examples">&#182;</a>
          </div>
          <h1>Examples</h1>
          <h2>Basics</h2>
          <p>Without any plugins, all functionality is accessible from the
          <code>Tectonic</code> object.</p>
        </div>
      </li>

      <div id="example-1" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 1</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-1">&#182;</a>
          </div>
          <p>The simplest usage is <code>autoRender</code>. Here we have a HTML
          snippet; the class name has been carefully chosen to match a property
          in our data.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>new Tectonic(document.getElementById('example-1'))
.autoRender(
  {
    'hello': 'Hello, World!'
  }
);</code></pre>
        </div></div>
      </li>

      <li id="result-1">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-1">&#182;</a>
          </div>
          <p>This results in the value from our data subsituted in the chosen
          DOM node.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"
          >&lt;span class="hello"&gt;Hello, World!&lt;/span&gt;</code></pre>
        </div></div>
      </li>

      <div id="example-2" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 2</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-2">&#182;</a>
          </div>
          <p>That's all very well and good but <code>autoRender</code> is not
          very flexible (not to mention inefficient). Here we have the same HTML
          snippet; but instead of our data needing to match the DOM, we pass a
          directive with the data to <code>render</code> in order to do the
          equivalent matching.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>new Tectonic(document.getElementById('example-2'))
.render(
  {
    'message': 'Hello, World!'
  },
  {
    '.hello': 'message'
  }
);</code></pre>
        </div></div>
      </li>

      <li id="result-2">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-2">&#182;</a>
          </div>
          <p>The result is the same.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"
          >&lt;span class="hello"&gt;Hello, World!&lt;/span&gt;</code></pre>
        </div></div>
      </li>

      <div id="example-3" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 3</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-3">&#182;</a>
          </div>
          <p>Directives can also be precompiled. Again here's the same example
          but first we <code>compile</code> our directive.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>var t = new Tectonic(document.getElementById('example-3'));
var template = t.compile(
  {
    '.hello': 'message'
  }
);
t.render(
  {
    'message': 'Hello, World!'
  },
  template
);</code></pre>
        </div></div>
      </li>

      <li id="result-3">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-3">&#182;</a>
          </div>
          <p>No surprises here.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"
          >&lt;span class="hello"&gt;Hello, World!&lt;/span&gt;</code></pre>
        </div></div>
      </li>

      <div id="example-4" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 4</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-4">&#182;</a>
          </div>
          <p>The precompiled template can also be used independently.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>var t = new Tectonic(document.getElementById('example-4'));
var template = t.compile(
  {
    '.hello': 'message'
  }
);
template(
  {
    'message': 'Hello, World!'
  }
);</code></pre>
        </div></div>
      </li>

      <li id="result-4">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-4">&#182;</a>
          </div>
          <p>But this time it returns a new node, detached from the DOM!
          It's up to you to do what you want with it.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"
          >&lt;span class="hello"&gt;Hi there!&lt;/span&gt;</code></pre>
        </div></div>
      </li>

      <div id="example-5" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 5</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-5">&#182;</a>
          </div>
          <p>We've seen how to put data into the DOM for the simplest use case,
          but Tectonic can also get data out of the DOM too. Note that this is
          entirely independent from <code>render</code>, we are not using any
          tricks like storing data in the DOM during rendering.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>new Tectonic(document.getElementById('example-5'))
.parse(
  {
    '.hello': 'message'
  }
);</code></pre>
        </div></div>
      </li>

      <li id="result-5">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-5">&#182;</a>
          </div>
          <p>The return value from <code>parse</code> is a plain old object.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="json"
>{
  "message": "Hi there!"
}</code></pre>
        </div></div>
      </li>

      <div id="example-6" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 6</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-6">&#182;</a>
          </div>
          <p>We can use <code>parse</code> with precompiled templates too.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
          <pre><code class="javascript"
>var t = new Tectonic(document.getElementById('example-6'));
var template = t.compile(
  {
    '.hello': 'message'
  }
);
t.parse(template);</code></pre>
        </div></div>
      </li>

      <li id="result-6">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-6">&#182;</a>
          </div>
          <p>The return value is the same.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="json"
>{
  "message": "Hi there!"
}</code></pre>
        </div></div>
      </li>

      <div id="example-7" class="devtools">
        <span class="hello">Hi there!</span>
      </div>
      <li class="example">
        <div><span>Example 7</span></div>
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#example-7">&#182;</a>
          </div>
          <p>The trick here is that <code>compile</code> exports an inverse
          function on its returned function.</p>
          <p>Here we also use <code>get</code> to return the original DOM node
          that was given to Tectonic.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="html"></code></pre>
        </div>
        <div class='highlight'>
           <pre><code class="javascript"
>var t = new Tectonic(document.getElementById('example-7'));
var template = t.compile(
  {
    '.hello': 'message'
  }
);
template.inverse(t.get());</code></pre>
        </div></div>
      </li>

      <li id="result-7">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#result-7">&#182;</a>
          </div>
          <p>Again, the return value is the same.</p>
        </div>
        <div class="content"><div class='highlight'>
          <pre><code class="json"
>{
  "message": "Hi there!"
}</code></pre>
        </div></div>
      </li>

      <li id="footer-copy">
        <div class="annotation">
          <div class="pilwrap">
            <a class="pilcrow" href="#footer-copy">&#182;</a>
          </div>
          <p>Copyright &copy; 2015-2016 Corin Lawson.</p>
        </div>
      </li>
    </ul>
  </div>
  <script src="tectonic.js"></script>
  <script src="highlight.pack.js"></script>
  <script src="node_modules/jquery/dist/jquery.js"></script>
  <script>
    $('[id^="example-"]').each(function() {
      var eg = $(this);
      var el = $('.content .highlight .html:empty', eg.next('.example'))
        .text(unindent(eg.html()))
        .get(0);
      if (el) hljs.highlightBlock(el);
    });
    $('pre code:not(.hljs)').each(function() { hljs.highlightBlock(this); });
    function unindent(str) {
      var lines = str.split('\n');
      var indent = -1;
      var fixed = [];
      for (var i = 0, ii = lines.length; i < ii; i++) {
        if (lines[i] || fixed.length > 0) {
          if (indent < 0) {
            indent = lines[i].search(/\S/);
          }
          fixed.push(lines[i].substring(indent));
        }
      }
      return fixed.join('\n').replace(/\s+$/, '');
    }
    console.log("%cI see you've come to play! Welcome! All the elements mentioned in the examples are actually in the DOM, and jQuery is here too!\nSo, to try the first example you would type:\n%cnew Tectonic($('#example-1')).autoRender({ hello: 'Hello, World!' });", 'font:16px/24px sans-serif;color:#30404f;background-color:#fff', 'font:11px/16px monospace;color:#30404f;background-color:#fff');
    console.log("%cBut first, remove devtools classes:\n%c$('*').removeClass('devtools');", 'font:16px/24px sans-serif;color:#30404f;background-color:#fff', 'font:11px/16px monospace;color:#30404f;background-color:#fff')
  </script>
</body>
</html>
